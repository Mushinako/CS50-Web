{% load check_followed %}

{% extends "network/layout.html" %}

{% block title %}
    {% if is_self %}
        My profile
    {% else %}
        {{ user_ }}'s profile
    {% endif %}
{% endblock title %}

{% block body %}
    {% if err %}
        <div class="err">{{ err }}</div>
    {% else %}
        <div class="profile">
            <h2 class="username">{{ user_.username }}</h2>
            {% if user != user_ %}
                <div class="follow-button">
                    <div class="followed-button{% followed_class user user_ False%}">Unfollow</div>
                    <div class="unfollowed-button{% followed_class user user_ False%}">Follow</div>
                </div>
            {% endif %}
            <div class="num-followers">Followed by {{ num_followers }} {{ num_followers|pluralize:"person,people" }}</div>
            <div class="num-followees">Follows {{ num_followees }} {{ num_followees|pluralize:"person,people" }}</div>
            {% include "network/includes/posts/post-container.html" %}
        </div>
    {% endif %}
{% endblock body %}